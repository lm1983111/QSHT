<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>无标题文档</title>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script type="text/javascript">
        var myApp = angular.module('myApp',[]);

        //购物车 加
        myApp.directive('myAdds',function(){
            return{
                link:function(scope,element,attr){
                    element.click(function(){
                        var This = this;
                        angular.forEach(scope.dataList,function(data,index,array){
                            if (attr.items == data.items) { //如果f12查看button上面的属性items等于遍历时当前的数据的items
                                data.num = parseInt(data.num) + 1;
                                scope.allPrices();
                                scope.$apply() //刷新视图
                            }
                        })
                    })
                }
            }
        });
        //获取数据
        myApp.controller('cartCtrl',['$scope',function($scope){
            $scope.dataList = [
                {
                    Bol:'false',
                    name:'洗衣机',
                    num:'1',
                    items:'0',
                    oneprice:'100',
                    price:''
                },{
                    Bol:'false',
                    name:'热水器',
                    num:'1',
                    items:'1',
                    oneprice:'50',
                    price:''
                },{
                    Bol:'false',
                    name:'空调',
                    num:'1',
                    items:'2',
                    oneprice:'200',
                    price:''
                }
            ];

            //总价格计算

        }])
    </script>
</head>


<body ng-app="myApp">
    <table ng-controller="cartCtrl">
        <tr>
            <td></td>
            <td>名称</td>
            <td>数量</td>
            <td>单价</td>
            <td>价格</td>
        </tr>
        <tr ng-repeat="data in dataList">
            <td><input type="checkbox"></td>
            <td>{{data.name}}</td>
            <td>
                <input type="text">
                <button type="button" my-adds>+</button>
            </td>
            <td>{{data.oneprice}}</td>
            <td>{{data.price}}</td>
        </tr>
    </table>
    <div>总价格：{{allPrices()}}</div>
</body>
</html>